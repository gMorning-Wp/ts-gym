type MyExclude<T, U> = T extends U ? never : T

// ç”¨åˆ°äº†ä»½åˆ†å¸ƒå¼æ¡ä»¶  
// 1. å¯¹äºunionç±»å‹çš„extends æ˜¯åˆ†å¼€æ˜ å°„å¾ªç¯çº¦æŸçš„
// 2. å¯¹äºunionç±»å‹ æ˜¯æ²¡æœ‰neverçš„ ï¼Œæ‰€ä»¥èµ·åˆ°äº†ç­›é™¤çš„èƒ½åŠ›


// å¤§è‡´æ€è·¯ ğŸ¤”
// è¿™é“é¢˜ç»™æˆ‘ä»¬ä¸¤ä¸ªè”åˆç±»å‹Tå’ŒUï¼ˆå¯ä»¥æŠŠè”åˆç±»å‹çœ‹æˆæ˜¯ä¸€ä¸ªç±»å‹é›†åˆï¼‰ï¼Œæ±‚å­˜åœ¨Tä¸­è€Œä¸å­˜åœ¨äºUä¸­çš„ç±»å‹ï¼Œä»é›†åˆçš„è§’åº¦æ¥è®²å°±æ˜¯T - Uï¼Œæ±‚å·®é›†ã€‚è¦æ±‚å·®é›†ï¼Œå…ˆè§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š1ã€å¦‚ä½•åˆ¤æ–­Tä¸­çš„æŸä¸ªç±»å‹æ˜¯å¦å­˜åœ¨äºUä¸­ã€‚2ã€å¦‚ä½•å»é™¤Tä¸­å­˜åœ¨äºUä¸­çš„ç±»å‹ã€‚
// æ¡ä»¶ç±»å‹ âš”ï¸
// æ¡ä»¶ç±»å‹å¯ä»¥æ ¹æ®ç±»å‹è¾“å…¥æ¥åˆ¤æ–­è¿”å›ä½•ç§ç±»å‹
// typescriptå¤åˆ¶ä»£ç ç¤ºä¾‹1ï¼š
// // æŠ¥é”™ Type '"message"' cannot be used to index type 'T'.
// type MessageOf<T> = T["message"];
// // æ­£ç¡®çš„åšæ³•ï¼Œextendsçº¦æŸäº†Tå¿…é¡»æœ‰ä¸€ä¸ªmessageçš„å±æ€§
// type MessageOf<T extends { message: unknown }> = T["message"];

// ç¤ºä¾‹2ï¼š
// type MessageOf<T> = T extends { message: unknown } ? T["message"] : never;

// ç¤ºä¾‹2ï¼Œæ³›å‹Tå°±æ˜¯è¾“å…¥ç±»å‹ï¼Œå…ˆåˆ¤æ–­Tæ˜¯å¦æ»¡è¶³{ message: unknown }çš„çº¦æŸï¼Œå¦‚æœTå­˜åœ¨messageå±æ€§ï¼Œå°±è¿”å›messageå±æ€§çš„ç±»å‹ï¼Œå¦åˆ™è¿”å›neverã€‚
// å¦‚æœTæ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œå°±ä¼šå‡ºç°åˆ†å¸ƒå¼æ¡ä»¶çš„æƒ…å†µ
// typescriptå¤åˆ¶ä»£ç type ToArray<Type> = Type extends any ? Type[] : never;
// type StrArrOrNumArr = ToArray<string | number>;  // string[] | number[]

// // ç­‰ä»·äº
// type StrArrOrNumArr = (string extends any ? string[] : never)
// | (number extends any ? number[] : never)

// è¿™ä¸¤ç§æƒ…å†µæ˜¯ç­‰ä»·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åˆ†å¸ƒå¼æ¡ä»¶ä¼šå¯¹è”åˆç±»å‹ä¸­çš„æ¯ä¸ªç±»å‹éƒ½åˆ¤æ–­ä¸€æ¬¡ï¼Œå¹¶ä¸”è¿ç®—çš„ç»“æœä¹Ÿæ˜¯è”åˆç±»å‹ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ¥åˆ¤æ–­Tä¸­çš„ç±»å‹æ˜¯å¦å­˜åœ¨äºUä¸­ï¼Œå³Tä¸­çš„æ¯ä¸ªç±»å‹æ˜¯å¦æ»¡è¶³Uçš„çº¦æŸã€‚
// ç­”æ¡ˆ ğŸ“„
// typescriptå¤åˆ¶ä»£ç type MyExclude<T, U> = T extends U ? never : T

// å½“Tä¸­çš„ç±»å‹å­˜åœ¨äºUä¸­æ—¶ï¼Œå°±è¿”å›neveræ˜¯ä¸ºäº†å‰”é™¤æ‰è¿™ä¸ªç±»å‹ã€‚ä¸¾ä¸ªä¾‹å­å†ç»“åˆä¸Šé¢æ‰€è®²çš„æ¡ä»¶ç±»å‹ï¼Œåº”è¯¥ä¼šæ¯”è¾ƒæ¸…æ™°äº†ã€‚
// typescriptå¤åˆ¶ä»£ç type excludeNever = string | never | number  // string | number

// å¯ä»¥çœ‹åˆ°æœ€ç»ˆç”Ÿæˆçš„è”åˆç±»å‹æ˜¯æ²¡æœ‰neverçš„ã€‚
// ç°åœ¨å‡è®¾T='a' | 'b' | 'c'ï¼ŒU='a'ï¼Œé‚£ä¹ˆç­”æ¡ˆç»™å‡ºçš„ä»£ç å°±ç­‰ä»·äº
// phpå¤åˆ¶ä»£ç ('a' extends 'a' ? never : 'a')
// | ('b' extends 'a' ? never : 'b')
// | ('c' extends 'a' ? never : 'c')

// never | 'b' | 'c' => 'b' | 'c'

// è¿™æ ·ä¸å°±æ±‚å‡ºäº†T-Uå˜›ã€‚

